(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[7],{519:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(1),o=a(21),s=a(2),l=a.n(s),i=a(43),u=a.n(i),d=a(14),m={tag:d.d,inverse:l.a.bool,color:l.a.string,body:l.a.bool,outline:l.a.bool,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},p=function(e){var t=e.className,a=e.cssModule,r=e.color,s=e.body,l=e.inverse,i=e.outline,m=e.tag,p=e.innerRef,h=Object(o.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(d.b)(u()(t,"card",!!l&&"text-white",!!s&&"card-body",!!r&&(i?"border":"bg")+"-"+r),a);return n.a.createElement(m,Object(c.a)({},h,{className:b,ref:p}))};p.propTypes=m,p.defaultProps={tag:"div"};var h=p,b={tag:d.d,className:l.a.string,cssModule:l.a.object},f=function(e){var t=e.className,a=e.cssModule,r=e.tag,s=Object(o.a)(e,["className","cssModule","tag"]),l=Object(d.b)(u()(t,"card-title"),a);return n.a.createElement(r,Object(c.a)({},s,{className:l}))};f.propTypes=b,f.defaultProps={tag:"div"};var g=f,v=function(e){var t=e.children,a=e.styleName,r=e.title;return n.a.createElement(h,{className:"jr-card jr-card-widget ".concat(a)},r?n.a.createElement(g,null,r):null,t)};t.a=v;v.defaultProps={styleName:""}},854:function(e,t,a){"use strict";var r=a(1),n=a(7),c=a(0),o=(a(2),a(6)),s=a(9),l=a(486),i=a(102),u=c.forwardRef((function(e,t){var a=e.children,s=e.classes,u=e.className,d=e.disableTypography,m=void 0!==d&&d,p=e.inset,h=void 0!==p&&p,b=e.primary,f=e.primaryTypographyProps,g=e.secondary,v=e.secondaryTypographyProps,y=Object(n.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),j=c.useContext(i.a).dense,_=null!=b?b:a;null==_||_.type===l.a||m||(_=c.createElement(l.a,Object(r.a)({variant:j?"body2":"body1",className:s.primary,component:"span",display:"block"},f),_));var w=g;return null==w||w.type===l.a||m||(w=c.createElement(l.a,Object(r.a)({variant:"body2",className:s.secondary,color:"textSecondary",display:"block"},v),w)),c.createElement("div",Object(r.a)({className:Object(o.a)(s.root,u,j&&s.dense,h&&s.inset,_&&w&&s.multiline),ref:t},y),_,w)}));t.a=Object(s.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(u)},865:function(e,t,a){"use strict";a.r(t);var r=a(88),n=a(20),c=a(28),o=a(29),s=a(66),l=a(34),i=a(33),u=a(0),d=a.n(u),m=(a(18),a(519),a(10)),p=a.n(m),h=a(35),b=a(75),f=a(183);function g(e,t){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(p.a.mark((function e(t,a){var r,n,c,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("cardgame_key"),n=new b.JsonRpc("http://127.0.0.1:8888"),c=new f.JsSignatureProvider([r]),o=new b.Api({rpc:n,signatureProvider:c,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),e.prev=4,e.next=7,o.transact({actions:[{account:"auction",name:t,authorization:[{actor:localStorage.getItem("cardgame_account"),permission:"active"}],data:a}]},{blocksBehind:3,expireSeconds:30});case 7:s=e.sent,console.dir(s),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(4),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}var y=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"login",value:function(e){var t=e.username,a=e.key;return new Promise((function(e,r){localStorage.setItem("cardgame_account",t),localStorage.setItem("cardgame_key",a),localStorage.setItem("user_id",t),g("login",{username:t}).then((function(){e(),console.log("hurray")})).catch((function(e){localStorage.removeItem("cardgame_account"),localStorage.removeItem("cardgame_key"),r(e),console.log(e)}))}))}},{key:"placebid",value:function(e){var t=e.bid_price;return console.log(t),new Promise((function(e,a){g("placebid",{user:localStorage.getItem("cardgame_account"),user_id:10,bid_price:t}).then((function(){e(),console.log("hurray")})).catch((function(e){a(e),console.log(e)}))}))}},{key:"posttrip",value:function(e){var t=e.post_title,a=e.loc_desc,r=e.loc_param,n=e.cost_jorn,c=e.car_space;return console.log(localStorage.getItem("cardgame_account")),new Promise((function(e,o){g("addpost",{user_name:localStorage.getItem("cardgame_account"),post_title:t,loc_desc:a,loc_param:r,car_size:c,cost_trip:n}).then((function(){e(),console.log("post successful")})).catch((function(e){console.log(e),o(e)}))}))}},{key:"getUserByName",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=new b.JsonRpc("http://127.0.0.1:8888"),e.next=4,a.get_table_rows({json:!0,code:"eymvnjdllpto",scope:"eymvnjdllpto",table:"users",limit:1,lower_bound:t});case 4:return r=e.sent,e.abrupt("return",r.rows[0]);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllRecord",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new b.JsonRpc("http://127.0.0.1:8888"),e.next=4,t.get_table_rows({json:!0,code:"test1",scope:"test1",table:"users"});case 4:return a=e.sent,e.abrupt("return",a.rows);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUserPostTrips",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new b.JsonRpc("http://127.0.0.1:8888"),e.next=4,t.get_table_rows({json:!0,code:"test1",scope:"test1",table:"users",lower_bound:localStorage.getItem("cardgame_account")});case 4:return a=e.sent,e.abrupt("return",a.rows);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTicketRecord",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new b.JsonRpc("http://127.0.0.1:8888"),e.next=4,t.get_table_rows({json:!0,code:"auction",scope:"auction",table:"people"});case 4:if(a=e.sent,console.log(a.rows),!a.rows){e.next=10;break}return e.abrupt("return",a.rows.sort((function(e,t){return e.auxi_price-t.auxi_price})));case 10:return e.abrupt("return",[]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getsellingaccount",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new b.JsonRpc("http://127.0.0.1:8888"),e.next=4,t.get_table_rows({json:!0,code:"test1",scope:"test1",table:"sellorders"});case 4:return a=e.sent,e.abrupt("return",a.rows.sort());case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),j=a(447),_=a(493),w=a(854),k=a(488),E=a(475),N=a(476),O=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e))._isMounted=!1,console.log(e),r.state={datafeed:[],form:{bid_price:"",highest_bid:""}},r.handleChange=r.handleChange.bind(Object(s.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(s.a)(r)),r.fetchdata=r.fetchdata.bind(Object(s.a)(r)),r}return Object(o.a)(a,[{key:"fetchdata",value:function(){var e=this;return y.getTicketRecord().then((function(t){e.setState({datafeed:t})}))}},{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&(this.fetchdata(),setInterval(this.fetchdata,5e3))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleChange",value:function(e){var t,a=e.target,c=a.name,o=a.value,s=this.state.form;this.setState({form:Object(n.a)({},s,(t={},Object(r.a)(t,c,o),Object(r.a)(t,"error",""),t))})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.form;if(!(1e4-t.bid_price>t.highest_bid))return y.placebid(t).then((function(){alert("You Bid Successfully")})).catch((function(e){}));alert("Bid Price is lower than highest Bid. Please Stake at least 2 TNT more than the highest")}},{key:"render",value:function(){var e=this.state;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",null,d.a.createElement("div",{className:"row mb-md-6"},d.a.createElement("div",{className:"col-lg-6 col-md-6 col-12 mb-md-6"},d.a.createElement("div",{className:"jr-card"},d.a.createElement("div",{className:"jr-card-header"},d.a.createElement("h3",{className:"jr-card-heading"},"Existing Bids")),d.a.createElement("div",{className:"jr-card-body "},d.a.createElement(E.a,null,e.datafeed.map((function(e,t){return d.a.createElement(j.a,{button:!0,key:t},d.a.createElement(_.a,null,d.a.createElement("i",{className:"zmdi zmdi-folder zmdi-hc-fw zmdi-hc-lg text-white"})),d.a.createElement(w.a,{primary:" Bid Price:"+e.bid_price,secondary:" Username: "+e.user_name}))})))))),d.a.createElement("div",{className:"col-lg-6 col-md-6 col-12 mb-md-6"},d.a.createElement("div",{className:"jr-card"},d.a.createElement("div",{className:"jr-card-header"},d.a.createElement("h3",{className:"jr-card-heading"},"Bid for Ticket")),d.a.createElement("div",{className:"jr-card-body"},d.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},d.a.createElement(k.a,{label:"Bid Price",required:!0,margin:"normal",name:"bid_price",onChange:this.handleChange,multiline:!0,fullWidth:!0,type:"input",className:"mt-1 my-sm-3"}),d.a.createElement(k.a,{label:"Bid Price",hidden:!0,margin:"normal",name:"bid_price",onChange:this.handleChange,multiline:!0,fullWidth:!0,type:"input",className:"mt-1 my-sm-3"}),d.a.createElement("div",{className:"mb-3 d-flex align-items-center justify-content-between"},d.a.createElement(N.a,{type:"submit",variant:"contained",color:"primary"},"Place Bid")))))))))}}]),a}(u.Component);t.default=O}}]);
//# sourceMappingURL=7.022894b7.chunk.js.map